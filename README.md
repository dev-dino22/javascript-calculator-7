# javascript-calculator-precourse

# 1. 기능 구현 목록

#### 1. 프로그램의 시작점이 되는 run() 함수에 시작 메세지 구현

- 프로그램 시작 시 메세지 출력 "문자열 덧셈 계산기가 실행되었습니다."

#### 2. @woowacourse/mission-utils에서 제공하는 Console API를 이용해 사용자 입력을 비동기로 받는 기능 구현.

- "덧셈할 문자열을 입력해주세요." 출력 후 사용자 입력 받기
- 입력값이 비어있을 경우 ~~또는 잘못된 형식일 경우~~ 에러 처리 (-> 형식 검증은 3번 파싱 함수에서 처리 )

#### 3. 쉼표(,)와 콜론(:)을 기본 구분자로 하는 문자열 파싱 기능 구현.

- 기본 구분자를 기준으로 입력 문자열을 분리
- 커스텀 구분자가 존재하는 경우, "//"와 "\n" 사이에 있는 문자를 커스텀 구분자로 사용하여 문자열을 분리
- 커스텀 구분자를 정의할 때, 맨 앞에 정의하지 않는 경우 파싱에러 출력 후 프로그램 종료
- 분리된 값이 숫자로 변환 가능한지 검증 -> 불가할 경우 "[ERROR] 숫자열로 변환되지 않는 입력이 포함됐습니다." 에러 메시지 출력 후 프로그램 종료
- 성공적으로 변환된 값이 음수일 경우 "[ERROR] 음수가 포함되어있습니다. 양수를 입력해주세요." 에러 메시지 출력 후 프로그램 종료
- 검증된 숫자열들을 배열로 반환

#### 4. 숫자로 이루어진 배열을 모두 더하여 값을 반환하는 기능 구현

- 덧셈 계산 후 숫자열인 결과값 반환

#### 5. 결과 출력

- 사용자에게 결과 값을 출력하는 기능 구현 (예: "결과 : 6").

#### 6. 프로그램 종료

- 프로그램의 종료 메시지 없이 자연스럽게 종료되도록 처리
- 프로그램 종료 시 process.exit()를 호출하지 않기
- npm run test 통과
  <br>
  <br>

# 2. 요구 사항

## (1) 기능 요구 사항

> <h3>입력한 문자열에서 숫자를 추출하여 더하는 계산기를 구현한다.</h3>

- 쉼표(,) 또는 콜론(:)을 구분자로 가지는 문자열을 전달하는 경우 구분자를 기준으로 분리한 각 숫자의 합을 반환한다.<br>
  `예: "" => 0, "1,2" => 3, "1,2,3" => 6, "1,2:3" => 6`

- 앞의 기본 구분자(쉼표, 콜론) 외에 커스텀 구분자를 지정할 수 있다. 커스텀 구분자는 문자열 앞부분의 "//"와 "\n" 사이에 위치하는 문자를 커스텀 구분자로 사용한다.<br>
  `예: 입력: "//;\n1;2;3" 결과: 6`

- 사용자가 잘못된 값을 입력할 경우 "[ERROR]"로 시작하는 메시지와 함께 Error를 발생시킨 후 애플리케이션은 종료되어야 한다.

## (2) 입출력 요구 사항

> <h3> 입력 : 구분자와 양수로 구성된 문자열</h3>

> <h3> 출력 : 덧셈 결과</h3>

<br>
<br>

# 3. 테스트 케이스

## 🛠️ [ERROR] 를 반환해야하는 경우

#### 📍 숫자 사이에 띄어쓰기를 했을 경우

#### 📍 입력값에 음수가 포함된 경우

#### 📍 공백만 입력했을 경우

#### 📍 아무 것도 입력하지 않을 경우

#### 📍 입력값에 0이 포함된 경우

#### 📍커스텀 구분자 정의가 공백을 지웠을 때 숫자만으로 이루어진 경우

#### 📍커스텀 구분자 정의를 맨 앞부분이 아닌 중간에 할 경우

#### 📍커스텀 구분자 정의 안에 여러 문자를 입력했을 때 각 구분자를 따로 떼어서 사용한 경우

-> 입력: '//!@\\n1!2@3'은 [ERROR] 반환하고 '//!@\\n1!@2!@3' 는 정상적으로 6을 출력함

#### 📍자바스크립트가 처리할 수 없는 너무 큰 숫자를 입력했을 경우

-> 자바스크립트가 안전하게 처리할 수 있는 MAX_SAFE_INTEGER 범위를 넘었는지 판단

#### 📍최종적으로 합산된 값이 자바스크립트가 처리할 수 없는 너무 큰 수일 경우

-> 자바스크립트가 안전하게 처리할 수 있는 MAX_SAFE_INTEGER 범위를 넘었는지 판단

## 😃 정상 출력되는 경우

#### 📍 커스텀 구분자에 숫자가 포함되어있으나 문자열이 있는 경우

#### 📍 커스텀 구분자에 서로게이트페어를 넣은 경우

#### 📍 커스텀 구분자에 백슬래시 등 이스케이프 처리가 될 문자를 넣은 경우

-> \\b 와 같이 터미널에서 이스케이프 처리가 될 문자를 구분자로 넣은 경우에도 <br>
정상출력할 수 있도록 해당 경우에만 역슬래시를 추가하는 로직 작성

#### 📍 커스텀 구분자에 \\n을 넣은 경우

-> 커스텀 정의를 끝내는 문자열을 구분자로 넣은 경우 오류를 일으키진 않지만<br>
마지막 \\n 바로 뒤 숫자부터만 출력(마지막\\n전까지 커스텀 구분자로 판단)<br>
(ex: 입력: '//\n\n1\n2\n3\n123' -> 출력: 123)

#### 📍 커스텀 구분자 정의가 비어있을 경우

-> 커스텀 구분자 추가하지 않음(예://\n123 -> 결과: 123)

#### 📍 커스텀 구분자에 띄어쓰기를 넣은 경우

-> 띄어쓰기를 구분자로 추가

#### 📍 커스텀 구분자와 기본 구분자의 혼합 사용

#### 📍 커스텀 구분자 정의 안에 여러 문자를 입력했을 때 각 구분자를 한 세트로 잘 사용한 경우

-> 입력: '//!@\\n1!2@3'은 [ERROR] 반환하고 '//!@\\n1!@2!@3' 는 정상적으로 6을 출력함

#### 📍 중복 구분자 사용(4,,1) -> ,와 , 사이 빈 값은 0으로 계산 (결과 : 5)

#### 📍 구분자없이 여러 숫자가 붙어있는 경우(1324)

-> 한 숫자로 판단(결과 : 1324)

#### 📍 소수 입력 가능

#### 📍 구분자와 숫자 사이에 띄어쓰기를 한 경우

-> 공백을 무시하고 정상 출력

# 4. 기능 구현 중 메모

- 3번 기능 구현할 때, \n 이스케이프 처리 문제
- 여러 구분자를 포함한 정규표현식을 생성하는 법 => new RegExp() 사용
- RegExp()와 split() 메소드는 인자로 배열을 받을 수 없다. 문자열과 정규표현식을 인자로 받음.
- a.every(x => x < 0) 메서드 <-> a.some(x => x <0) 메서드
